{% macro meta_diff(diff) %}
<table border="0" cellpadding="0" cellspacing="0" style="margin:0; padding:10px;
        width:100%; font-family:monospace; background-color:#F9F9F9">
{% for change in diff -%}
{% if change[0] == "insert" -%}
    <tr style="color:#00B000; height:1.2em;">
    {% set marker = '+' -%}
{% elif change[0] == "delete" -%}
    <tr style="color:#991111; height:1.2em;">
    {% set marker = '-' -%}
{%- endif %}
        <td style="font-family:monospace; width:1.2em; vertical-align:top;">{{ marker }}</td>
        <td style="font-family:monospace;">
        {% if change[0] == "insert" -%}
            <ins style="text-decoration:none;">
                {{ change[1] | join(".") }}{% if change[1] -%}:{%- endif %}
                {{ change[2] }}
            </ins>
        {% elif change[0] == "delete" -%}
            <del style="text-decoration:none;">
                {{ change[1] | join(".") }}{% if change[1] -%}:{%- endif %}
                {{ change[2] }}
            </del>
        {% endif %}
        </td>
    </tr>
{%- endfor %}
</table>
{% endmacro %}
