// moin2 foobar theme css

// include a comment with a notice that the css file is automatically generated:
@import "stylus_notice.css"

// reset all browser-specific default to have common defaults everywhere:
@import "reset.css"

// auto-generated by pygmentize -S default -f html >pygments_default.css
@import "pygments_default.css"

// smileys used by moin wiki parser (and maybe others)
@import "smileys.css"

// admonitions used by moin wiki parser (and maybe others)
@import "admonitions"

// user styles used by moin wiki parser (and maybe others) like red/green/solid/dashed/comment...
@import "userstyles.css"

font_color = #000000
base_color = #d6d5d0
page_color = #f0f0f0
border_style = 1px solid border_color
header_bg_color = #2c2c2a
footer_color = #000000
heading_color = #ffffff
panel_color = #2c2c2a
border_color = #cccccc
shadow_color = #9d9d9b
table_bg_color = #d0d0d0
link_color = #4fa8fa
hover_color = #007cef
active_color = #51d443
visited_color = #5e84a7
nonexistent_link_color = #f1f1f1
nonexistent_hover_color = #ff2727

font_family = sans-serif
main_font_size = 1em
small_font_size = main_font_size * 0.8
heading_scale = 1.2  // font size factor for h1 .. h6

dir = left  // 'left' means left-to-right (ltr), 'right' means right-to-left (rtl)

scale = 1  // we have the whole screen width as base
global_tray_width = 100% / 6 * scale
global_padding_width = 0.5% * scale
main_container_width = 99.8% - global_tray_width - (4 * global_padding_width)

scale = 100% / main_container_width  // we have the main container width as base
local_panel_width = 100% / 6 * scale
local_padding_width = 0.5% * scale
content_width_with_panel = 99.8% - local_panel_width - (4 * local_padding_width)
content_width_no_panel = 99.8% - (2 * local_padding_width)

body
    color font_color
    background-color base_color
    font-family font_family

// the main elements - just the big picture first: panels, header, content, footer

#moin-global-tray
    float dir
    width global_tray_width
    padding global_padding_width
    overflow hidden

#moin-main-container
    float dir
    width main_container_width
    padding global_padding_width

// contains header and content, but not footer
#moin-main-box
    background-color page_color
    border border_style
    border-radius 6px
    box-shadow 2px 2px 4px shadow_color
    overflow hidden

#moin-header
    background-color header_bg_color
    color heading_color
    border-bottom border_style
    padding 0.2% 0.5%
    overflow auto
    a
        color heading_color

#moin-content-no-panel
    float dir
    width content_width_no_panel
    padding local_padding_width
    {'border-' + opposite-position(dir)} border_style

#moin-content-with-panel
    float dir
    width content_width_with_panel
    padding local_padding_width
    {'border-' + opposite-position(dir)} border_style

#moin-local-panel
    float dir
    width local_panel_width
    padding local_padding_width
    {'margin-' + dir} -1px  // make it overlap with content border, see border_style
    {'border-' + dir} border_style

#moin-footer
    clear both
    font-size small_font_size
    color footer_color
    padding 0.5% 0.5%
    overflow auto

// now the stuff inside the main elements

// header elements
#moin-breadcrumbs-location
    float dir
    padding 0.3em 0.5em 0.2em 0.5em
    font-weight bold

#moin-search
    float opposite-position(dir)
    padding 0.3em 0.5em 0.2em 0.5em

// panels, footer
#moin-logo
    width 100%
    padding 0 0 1em 0
    a
        display block
        width 100%
        height 70px
        background-repeat no-repeat
        background-position center center

#moin-global-panel ul,
#moin-local-panel ul
    list-style-type none 
    margin 0
    li
        background-color panel_color
        font-size main_font_size
        color heading_color
        font-weight bold
        padding 0.5em
        border border_style
        border-radius 4px
        box-shadow 1px 1px 2px shadow_color
        margin-left 0.5em
        margin-bottom 0.5em
        overflow hidden
        word-wrap break-word
        ul
            padding 0.2em 0.1em
            li
                font-size small_font_size
                color heading_color
                font-weight normal
                padding 0.1em 0.1em 0.1em 0.1em
                border none
                box-shadow none
                margin 0

#moin-footer ul,
#moin-credits
    float dir
    list-style-type none 
    li
        padding 0.1em

#moin-footer-logos
    float opposite-position(dir)
    ul li
        display inline


// links
a
    text-decoration none
    // order must be: link, visited, hover, active
    &:link
        color link_color
    &:visited
        color visited_color
    &:hover
        color hover_color
        text-decoration underline
    &:active
        color active_color
        text-decoration underline
    &.moin-nonexistent:link
        color nonexistent_link_color
    &.moin-nonexistent:visited
        color nonexistent_link_color
    &.moin-nonexistent:hover
        color nonexistent_hover_color
    &.moin-nonexistent:active
        color nonexistent_hover_color


// lists
ul, dl
    margin-left 1.5em
ol
    // ordered list, first level needs big margin that will contain the number
    margin-left 3em
    ol
        // for >= second level we need less
        margin-left 1.5em

li, dt
    padding 0.1em

dt
    font-weight bold
dd
    margin-left 1.5em

ul
    &.moin-nobullet-list
        list-style-type none

ol
    &.moin-upperalpha-list
        list-style-type upper-alpha
    &.moin-loweralpha-list
        list-style-type lower-alpha
    &.moin-upperroman-list
        list-style-type upper-roman
    &.moin-lowerroman-list
        list-style-type lower-roman

// tags list / tag cloud
tag_scale = 1.2
tag_font_size = 100%

ul.moin-tags
    list-style none
    li
        display inline
        for n in 0 1 2 3 4 5 6 7 8 9
            { '&.weight' + n }
                scale_tag = tag_scale ** (n - 4)
                font-size tag_font_size * scale_tag

// headings
for n in 1 2 3 4 5 6
    {'h' + n}
        scale_font = heading_scale ** (4 - n)
        font-size main_font_size * scale_font
        margin (1em / scale_font) 0
        heading_underline_thickness = floor(4px - n / 2)
        border-bottom heading_underline_thickness solid border_color
        padding-bottom heading_underline_thickness

// special style for heading with mouseover permalinks
a.permalink
    display none
    cursor pointer
    margin-left 0.1em
    color footer_color
    &:hover
        color font_color

h1:hover .permalink,
h2:hover .permalink,
h3:hover .permalink,
h4:hover .permalink,
h5:hover .permalink,
h6:hover .permalink
    display inline
    text-decoration none

// horizontal rule ---- and custom rules ----- to ----------
hr
    background-color font_color
    border 0
    margin .9em 0
    height 1px
    &.moin-hr1
        height 2px
    &.moin-hr2
        height 3px
    &.moin-hr3
        height 5px
    &.moin-hr4
        height 7px
    &.moin-hr5
         height 9px
    &.moin-hr6
        height 12px

// tables
table
    margin 0.5em
    border-collapse collapse
    th, td
        padding 0.3em 0.4em
        vertical-align middle
        text-align left
    th
        border border_style
        background-color header_bg_color
    td
        border border_style

table.zebra
    border none
    border-collapse separate
    border-spacing 1px
    thead
        background-color header_bg_color
    tfoot
        background-color base_color
    tbody tr,
    > tr
        background-color table_bg_color
    tbody tr:nth-child(odd),
    > tr:nth-child(odd)
        background-color table_bg_color
    th,
    td
        border none

pre
    font-family monospace
    white-space pre-wrap
    word-wrap break-word
    border border_style
    background-color base_color
    margin .33em 0
    padding 5px
    clear both
    &.comment
        background-color header_bg_color
        color heading_color
        margin 0
        padding 0
        border 0
        &:before
            content url(../img/attention.png)

textarea
    font-family monospace
    width 100%
    border border_style

input#f_comment
    width 100%
    border border_style
    margin .3em 0

// text styles
sub
    vertical-align sub
sup
    vertical-align super
.moin-big
    font-size 1.17em
.moin-small
    font-size .83em

/* fix tests -- currently checking <big> and <small> */
@media print
    #moin-global-tray
    #moin-local-panel
    #moin-footer
    #moin-search
        display none

